# Documentation

Freebayes is a variant caller designed to find SNPs and short INDELs from a
BAM file. It produces a very well-annotated VCF output.
Moreover, it provides a quality score calculated by a bayesian model.

**Required input:**

- **bam**: Sorted BAM file.
- **ref**: FASTA file of the reference genome.

**Required output:**

- **vcf**: VCF file of detected variants.

**Required parameters:**

- **options**: a list of valid freebayes options
- **ploidy**: sets the default ploidy for the analysis

**Log:**

- a log file generated by freebayes

# Configuration

	######################################################################
	# Freebayes section
	#
	# :Parameters:
	#
	# - ploidy: sets the default ploidy for the analysis
	# - options: string with any valid Freebayes options
    freebayes:
		ploidy: 1
		options: "--legacy-gls"

# Example

    rule freebayes:
        input:
            bam = "{sample}/bamfile/{sample}.sorted.bam",
            ref = "measles.fa"
        output:
            vcf = "{sample}/freebayes/{sample}.vcf"
        log:
            "{sample}/freebayes/freebayes.log"
        params:
            ploidy = config["freebayes"]["ploidy"],
            options = config["freebayes"]["options"]
        wrappers"
            "main/wrappers/freebayes/

# References

- https://github.com/freebayes/freebayes
