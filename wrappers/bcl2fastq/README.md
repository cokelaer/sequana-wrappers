# Documentation

Calls bcl2fastq to convert BCL raw data into FastQ files

Required input:

- **SampleSheet** as provided by sequencer providers

Required output:

- **Stats/Stats.json**

Required parameters

- **options**: a list of valid bcl2fastq options
- **indir**: place where to find BCL directory
- **ignore_missing_bcls**: interpret missing BCL files as no call (N)
- **no-bgzf-compression**: turn off BGZF compression for FASTQ files
- **barcode-mismatches**:  number of allowed mismatches per index
- **merge_all_lanes**: if false, use the --no-lane-splitting option

Log:

- a log file generated by bcl2fastq is stored

# Configuration

    ##############################################################################
    # FastQC section
    #
    # :Parameters:
    #
    # - options: string with any valid FastQC options
    bcl2fastq:
        threads: 4
        barcode_mismatch: 0
        samplesheet_file: "SampleSheet.csv"
        ignore_missing_bcls: true
        no_bgzf_compression: true
        options: ''
        merge_all_lanes: true

# Example

    rule bcl2fastq:
        input:
            samplesheet=config["bcl2fastq"]["SampleSheet.csv"]
        output:
            "Stats/Stats.json",
        params:
            indir="bcl",
            barcode_mismatch=config['bcl2fastq']['barcode_mismatch'],
            ignore_missing_bcls=config['bcl2fastq']['ignore_missing_bcls'],
            no_bgzf_compression=config['bcl2fastq']['no_bgzf_compression'],
            merge_all_lanes=config['bcl2fastq']['merge_all_lanes'],
            options=config['bcl2fastq']['options']
        threads: config['bcl2fastq']["threads"]
        wrapper:
            "main/wrappers/bcl2fastq"

 
